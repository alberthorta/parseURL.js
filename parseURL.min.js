String.prototype.parseURIDomain=function(t){var e,o,r;return t.user=void 0,t.password=void 0,t.port=void 0,t.host=void 0,t.port="http"===t.scheme?80:"https"===t.scheme?443:"ftp"===t.scheme?21:void 0,this&&this.length>0&&(o=(e=("@"+this).split("@")).pop().split(":",2),t.host=""!==o[0]?o[0]:void 0,t.port=void 0!==o[1]?parseInt(o[1]):t.port,r=e.pop().split(":",2),t.user=""!==r[0]?r[0]:void 0,t.password=r[1]),t},String.prototype.parseURIParams=function(){return decodeURIComponent(this).replace(/\+/g," ").split("&").reduce(function(t,e,o,r){var p=r[o].split("=",2);return t[p.shift()]=p.pop(),t},{})},String.prototype.parseURL=function(){var t=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/g.exec(this);return(t[4]||"").parseURIDomain({scheme:void 0!==t[2]?t[2].toLowerCase():void 0,path:"file"===(t[2]||"").toLowerCase()?t[5].slice(1):t[5]||void 0,fragment:t[9],query:t[7]&&0!==t[7].length?t[7].parseURIParams():{}})};