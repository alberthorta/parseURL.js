String.prototype.parseURIDomain=function(o){var t,r,p;return o.user=void 0,o.password=void 0,o.port=void 0,o.domain=void 0,o.port="http"===o.protocol?80:"https"===o.protocol?443:"ftp"===o.protocol?21:void 0,this&&this.length>0&&(r=(t=("@"+this).split("@")).pop().split(":",2),o.domain=""!==r[0]?r[0]:void 0,o.port=void 0!==r[1]?parseInt(r[1]):o.port,p=t.pop().split(":",2),o.user=""!==p[0]?p[0]:void 0,o.password=p[1]),o},String.prototype.parseURIParams=function(){return decodeURIComponent(this).replace(/\+/g," ").split("&").reduce(function(o,t,r,p){var i=p[r].split("=",2);return o[i.shift()]=i.pop(),o},{})},String.prototype.parseURL=function(){var o=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/g.exec(this);return(o[4]||"").parseURIDomain({protocol:void 0!==o[2]?o[2].toLowerCase():void 0,path:"file"===(o[2]||"").toLowerCase()?o[5].slice(1):o[5]||void 0,hash:o[9],params:o[7]&&0!==o[7].length?o[7].parseURIParams():{}})};